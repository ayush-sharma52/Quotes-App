"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[857],{857:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var s=n(152),c=n(791),o=n(931),r=n(523),a=n(995),m=n(853),d=n(556),l="Comments_comments__JmpBN",u="CommentItem_item__CodB2",i=n(184),h=function(e){return(0,i.jsx)("li",{className:u,children:(0,i.jsx)("p",{children:e.text})})},x="CommentsList_comments__LDM4Y",j=function(e){return console.log(e.comments),(0,i.jsx)("ul",{className:x,children:e.comments.map((function(e){return(0,i.jsx)(h,{text:e.text},e.id)}))})},f="NewCommentForm_form__XOKKB",p="NewCommentForm_control__DWGnM",_="NewCommentForm_actions__eFIEa",N=function(e){var t=(0,o.UO)(),n=(0,c.useRef)(),s=(0,a.Z)(m.Ir),r=s.sendRequest,l=s.status,u=s.error,h=e.onAddComment;(0,c.useEffect)((function(){"completed"!==l||u||h()}),[h,u,l]);var x=function(e){e.preventDefault(),r({commentData:n.current.value,quoteId:t.quoteId})};return u?(0,i.jsx)("p",{className:"centered",children:u}):(0,i.jsxs)("form",{className:f,onSubmit:x,children:["pending"===l&&(0,i.jsx)(d.Z,{className:"centered"}),(0,i.jsxs)("div",{className:p,onSubmit:x,children:[(0,i.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,i.jsx)("textarea",{id:"comment",rows:"5",ref:n})]}),(0,i.jsx)("div",{className:_,children:(0,i.jsx)("button",{className:"btn",children:"Add Comment"})})]})},C=function(){var e=(0,o.UO)(),t=(0,c.useState)(!1),n=(0,s.Z)(t,2),r=n[0],u=n[1],h=e.quoteId,x=(0,a.Z)(m.h_),f=x.sendRequest,p=x.status,_=x.data;(0,c.useEffect)((function(){f(h)}),[f,h]);var C,g=(0,c.useCallback)((function(){f(h)}),[f,h]);return"pending"===p&&(C=(0,i.jsx)("div",{className:"centered",children:(0,i.jsx)(d.Z,{})})),"completed"===p&&_&&_.length>0&&(C=(0,i.jsx)(j,{comments:_})),"completed"!==p||_&&0!==_.length||(C=(0,i.jsx)("p",{className:"centered",children:"No comments were added yet!"})),(0,i.jsxs)("section",{className:l,children:[(0,i.jsx)("h2",{children:"User Comments"}),!r&&(0,i.jsx)("button",{className:"btn",onClick:function(){u(!0)},children:"Add a Comment"}),r&&(0,i.jsx)(N,{onAddComment:g}),C]})},g="HighlightedQuote_quote__RyNWT",v=function(e){return(0,i.jsxs)("figure",{className:g,children:[(0,i.jsx)("p",{children:e.text}),(0,i.jsx)("figcaption",{children:e.author})]})};var b=function(){var e=(0,o.UO)(),t=(0,o.$B)(),n=(0,a.Z)(m.jR,!0),l=n.sendRequest,u=n.status,h=n.error,x=n.data,j=(0,c.useState)({}),f=(0,s.Z)(j,2),p=f[0],_=f[1];return(0,c.useEffect)((function(){l(e.quoteId)}),[l,e.quoteId]),(0,c.useEffect)((function(){"completed"===u&&_(x)}),[_,u,x]),"pending"===u?(0,i.jsx)(d.Z,{className:"centered"}):h?(0,i.jsx)("p",{className:"centered",children:h}):p.text?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{children:"Quote Details"}),(0,i.jsx)(v,{text:p.text,author:p.author}),(0,i.jsxs)(o.rs,{children:[(0,i.jsx)(o.AW,{path:t.path,exact:!0,children:(0,i.jsx)("div",{className:"centered",children:(0,i.jsx)(r.rU,{className:"btn--flat",to:"".concat(t.url,"/comments"),children:"Load Comments"})})}),(0,i.jsx)(o.AW,{path:"".concat(t.path,"/comments"),children:(0,i.jsx)(C,{})})]})]}):(0,i.jsx)("p",{children:"No Quote Found"})}}}]);
//# sourceMappingURL=857.6a7107a3.chunk.js.map